<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible">
	<title>Obligatorio RIA</title>
	<link rel="stylesheet" type="text/css" href="grid.css">
</head>
<body>
	<div class="container">
	<header>
		<div class="row">
			<div class="una columna">
				<div class="">
					<!-- <img src="https://scontent.fmvd1-1.fna.fbcdn.net/v/t1.0-9/13007216_1065138256866466_824488371901640910_n.jpg?oh=6a3fdf0d91f17ebdc47fc6879ed5208f&oe=59DAF69E" alt="Imagen de perfil"> -->
					<img src="" alt="">
					<h2>Guillermo Becker</h2>
				</div>
			</div>
		</div>
	</header><!-- /header -->

		<div class="row">
			<div class="seis columnas" name="right">
				<div class="">
					<div class="nav visible">
						Noticias <span class="ocultar">></span>
					</div>					
					<div class="nav visible">
						Grupos
					</div>					
					<div class="nav visible">
						Eventos
					</div>					
					<div class="nav visible">
						Amigos
					</div>					
					<div class="nav visible">
						Fotos
					</div>					
					<div class="nav visible">
						Videos
					</div>		
				</div>
			</div>
			<div class="cuatro columnas" name="news">
				<div id="publicar" class="publicar">
					<div>Â¿Que hiciste hoy?</div>
					<textarea id="texto" autofocus></textarea>	
					<div class="footerpublicar">
						<button type="button" id="botonpublicar">Publicar</button>
					</div>			
				</div>
				<div id="listapublicaciones" class="listapublicaciones">
					
				</div>
			</div>
				<div class="seis columnas" name="chat">
				Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nulla convallis pellentesque tortor, vel congue orci auctor sed. Donec vitae justo auctor sapien finibus accumsan non vel tellus. Nulla sagittis nibh quis congue vehicula. Nulla facilisi. Suspendisse at lectus venenatis enim condimentum laoreet sed vel dui. Class aptent taciti sociosqu ad litora torquent per conubia nostra, per inceptos himenaeos. Proin lacinia leo nec lacus sodales placerat. Pellentesque feugiat eu metus id fermentum. Mauris sit amet purus urna. Aenean molestie a diam id dictum. Praesent vitae nulla eu dui placerat gravida vitae at neque. Proin eleifend ex sit amet scelerisque condimentum. Maecenas dapibus velit orci, et mollis sapien consectetur ut.	Duis pharetra mauris at elit pulvinar lobortis. Sed ullamcorper eget ante nec molestie. Nulla ut velit id est finibus varius. Cras convallis diam sit amet nunc efficitur varius. Duis cursus orci non neque consectetur consectetur. Orci varius natoque penatibus et magnis dis parturient montes, nascetur ridiculus mus. Pellentesque facilisis cursus sapien. Duis nunc magna, rutrum in augue eu, posuere pharetra leo. In dui lorem, tristique at dapibus at, rutrum eget erat. Aenean nisi lorem, viverra consectetur magna varius, rutrum volutpat felis. Sed faucibus massa risus, a efficitur enim congue nec. Nullam nisl erat, fermentum sit amet lacus eget, faucibus convallis orci. Fusce fringilla nunc eget scelerisque malesuada. Curabitur ipsum massa, bibendum eu lacinia non, luctus sed augue.	<br>	Ut egestas sollicitudin commodo. Ut malesuada velit et nibh sagittis commodo. Aenean auctor ultrices justo, eget vehicula sem. Pellentesque dictum nisi non sapien dictum, eget laoreet enim rutrum. Proin vulputate mollis eros eget tincidunt. Donec ullamcorper massa at sem commodo dapibus. Sed non velit vel justo viverra cursus. Sed ac ante tristique diam convallis blandit vitae quis elit. Sed at hendrerit tortor, ut posuere urna.
				</div>
		</div>
		<div class="row">
			<div class="una columna">
				<footer>
					Copyright 2017
				</footer>
			</div>
		</div>	
	</div>

</body>
<script>
	let lista 	= document.getElementById('listapublicaciones'),
		texto 	= document.getElementById('texto'),
		aceptar = document.querySelector('#botonpublicar');
// console.log(texto.value);
	aceptar.addEventListener('click', function(evt){
		if(!!texto.value){
			//console.log(texto.value);
			let post 	= document.createElement('div'),
				txt 	= document.createTextNode(texto.value),
				botoneliminar = document.createElement('button'), 
				textoeliminar = document.createTextNode('x');
			// console.log(txt);
			// console.log(txt.value);
			post.classList.add('post');
			post.appendChild(botoneliminar);
			post.appendChild(txt);
			botoneliminar.setAttribute('type', "button");
			botoneliminar.classList.add('boton-cerrar');
			botoneliminar.appendChild(textoeliminar);

			botoneliminar.addEventListener('click', function(evt){
				post.remove();
				borrar(txt);
			});

			lista.insertBefore(post, lista.firstChild);
			agregar(txt);
			setTimeout(function(){post.classList.add('visible');},10);

			texto.value = '';

		}
	});

	function borrar(txt){
		console.log("algo borrado");
		console.log(txt);
	}

	function agregar(txt){
		console.log("algo agregado");
		console.log(txt);
		if(typeof(localStorage.getItem("mispost"))=='undefined'){
			let mispost = JSON.parse(localStorage.mispost);
			console.log("existe");
		}else{
			console.log("no existe");
			console.log(txt);
			let texto = [];
			console.log(texto);
			texto.push(txt);
			console.log("----------");
			console.log(texto);
			console.log("----------");
			let a = JSON.stringify(texto);
			console.log(a);

			localStorage.setItem("mispost", a);
			let b = localStorage.getItem("mispost");	
			console.log(b);
		}
			// console.log(mispost);
	}

</script>	
</html>